# Linux笔记

Linux 没有错误就是成功！

```sh
	sync # 将数据同步到硬盘中
	shutdown # 关机 -h 时间 多久后关机 -r now 立即重启 -r +10 10分钟后重启
	reboot # 重启
	halt # 关闭系统
```

### 系统目录结构

```sh
/bin # 存放着最经常使用的命令
/boot # 存放启动linux的核心文件
/dev # 存放外部设备
/etc # 存放系统管理所需的配置文件
/home # 用户主目录
/lib # 存放系统基本动态连接共享库
/lost+found # 非法关机后的目录
/opt # 安装额外软件存放的目录
/root # 系统管理员目录
/sbin # 管理员使用的系统管理程序
/tmp # 存放临时文件
/usr # 用户应用程序存放的目录
/usr/bin # 用户使用应用程序
/usr/sbin # 系统用户使用应用程序
/usr/src # 内核源码存放的目录
/var # 存放不断扩充的目录
/run # 运行临时文件目录
/www # 存放服务器网站相关资源
```

## 基本命令

### 目录管理

绝对路径： 目录的全称

相对路径：相对当前的路径

```sh
cd .. # cd 目录 切换目录 命令 .. 返回上一级 ./ # 当前目录 
ls # 列出目录 -a all -l list 列出文件包含属性和权限
pwd # 显示当前用户所在目录
mkdir # rmdir dir 创建目录 -p 创建多级目录
rmdir # rmdir dir 删除目录 只能删除空的目录 递归删除多个目录 -p
cp # cp file/dir file/dir 复制文件/文件夹 
rm # 移除文件/目录 -f 忽略不存在的文件，强制删除 -r 递归删除目录 -i互动 -rf 删库跑路
mv # 移动文件或者目录 -f 强制 -u 只替换已经更新过的文件夹
touch # 创建文件
```

### 基本属性

```sh
ll # 147 可读 258 可写 369 可执行 123 属主权限(root) 456 属组权限(group) 369 其他用户权限
# drwxr-xr-x+ 12(文件个数) Guest(属主：属于谁的)   _guest(属组：哪些用户组可用) 384B  6 12  2019 Guest
# drwxrwxrwt   7 root       wheel    224B 11 29  2019 Shared
# drwx------+ 98 chenxiayu  staff    3.1K  6  9 23:23 chenxiayu
# drwxrwxrwx   5 root       admin    160B  6  9 12:28 www
# 0 [d|-|l|b|c] d: 目录 -: 文件 l:链接文档 b: 可供存储的接口设备 c: 串行端口设备
chgrp # chgrp [-R] 属组名 文件名 # 更换文件所属组
chown # chown [-R] 属主名: 属组名 文件名 # 更改文件属主也同时修改文件属组
chmod # chmod [-R] rwx 文件夹 更改权限 r:4 w:2 x:1 c
```

### 文件内容查看

```sh
cat # 第一行开始显示
tac # 最后一行开始显示
nl # 显示顺带输出行号
more # 一页页显示文件内容
less # 一页页显示文件内容， 可以往前翻页 \向下查找 ?向上查找 n 下/上一个 N 下/上一个
head # head -n 文件名 只看头几行
tail # tail -n 文件名 只看尾巴几行
echo # 输入字符串
```

#### 链接

硬链接：A—B，假设A是B的硬链接，那么他们指向同一文件，允许一个文件拥有多个文件，可以硬链接到重要文件上防止误删除

软连接：类似快捷方式，删除源文件，就扑街了

```sh
ln # 创建链接 -s 软链接
```

## vim

#### 命令模式（Command Mode）

* `i` ：切换输入模式
* `x`：删除当前字符
* `:`：底线命令模式

#### 输入模式（Insert Mode）

| 操作         | 描述                           |
| ------------ | ------------------------------ |
| h / 左       | 左移光标                       |
| j / 下       | 下移光标                       |
| k / 上       | 上移光标                       |
| l / 右       | 右移光标                       |
| Ctrl + f     | 向下一页                       |
| Ctrl + b     | 向上一页                       |
| Ctrl + d     | 向下半页                       |
| Ctrl + u     | 向上半页                       |
| +            | 光标移动非空格的下一行         |
| -            | 光标移动到非空格的上一行       |
| 数字 <space> | 快捷切换光标                   |
| 0 / home     | 移动到这一行最前的字符         |
| $ / end      | 移动到这一行最后的字符         |
| H            | 移动到最上方那一行第一个字符   |
| M            | 移动到中央那一行到第一个字符   |
| L            | 移动到最下方那一行到第一个字符 |
| G            | 移动到这个档案最后一行         |
| 数字 G       | 移动到第几行                   |
| gg           | 移动到第一行                   |
| n <enter>    | 光标向下移动多少行             |

| 操作  | 描述             |
| ----- | ---------------- |
| /word | 向下搜索word     |
| ?word | 向上搜索word     |
| n/N   | 上下移动搜索光标 |

| 操作     | 描述                                 |
| -------- | ------------------------------------ |
| x / X    | 删除前/后一个字符                    |
| n x      | 连续向后删除n个字符                  |
| dd       | 删除当前行                           |
| n dd     | 向下删除N行                          |
| d1G      | 删除光标所在到第一行的所有数据       |
| dG       | 删除光标所在到最后一行到数据         |
| d$       | 删除光标所在处到该行的最后一个字符   |
| d0       | 删除到该行最前面的字符               |
| yy       | 复制光标所在的那一行                 |
| nyy      | 复制光标下面的n行                    |
| y1G      | 复制光标所在行到第一行的内容         |
| yG       | 复制光标所在行到最后一行的数据       |
| y0       | 复制光标所在的字符到该行第一个字符   |
| y$       | 复制光标所在的字符到该行最后一个字符 |
| p/P      | 粘贴在光标的下一行/上一行            |
| J        | 将光标所在行与下面一行结合为同一行   |
| n cj     | 重复删除n个数据                      |
| u        | 重复上一个动作                       |
| Ctrl + r | 重做上一个动作                       |

| 操作 | 描述                                                   |
| ---- | ------------------------------------------------------ |
| i/I  | 从目前光标处/目前所在行第一个非空格处 进入输入模式     |
| a/A  | 从光标所在下一个字符处/最后一个字符 进入输入模式       |
| o/O  | 在光标所在行下一行处/在光标所在行上一行处 进入输入模式 |
| r/R  | 进入取代模式，r 取代光标所在的字符一次，R一直取代      |

#### 底线命令模式（Last Line Mode）

| 命令   | 描述     |
| ------ | -------- |
| w      | 保存     |
| w!     | 强制保存 |
| q      | 离开     |
| q!     | 强制退出 |
| Set nu | 设置行号 |

## 账户管理

##### 用户账户的添加，删除，修改

```sh
useradd -m username # 添加用户 -m 自动创建主目录
userdel -r username # 删除用户 -r 删除用户主目录
usermod # 修改用户 
```



##### 用户口令管理

##### 用户组管理